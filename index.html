<!DOCTYPE html>
<html>
  <head>
    <meta charset= "utf-8">
    <link rel="stylesheet" type="text/css" href="app.css">
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
  </head>
  <body>
  
  <div class = "container">
  <nav> 
    <div id = "navHeader"> Twittler </div> 
      <hr>
    <div>
      <button>Refresh Tweets</button>
    </div>
  </nav>

  <main class = "mainBody">
  </main>
</div>

  <script>

      $(document).ready(function(){
        
        //  while(index >= 0){
        //  for( user in streams.users){

        //  $($body).append("<a href = #> "+ "@" + user + " </a>"); //usernames
        //  //$($body).append("<h1> "+ user + " </h1"); //usernames

        
        //  }

         

        //everybody's last tweets
        $('button').click(function(){
          var $body = $('main');
          $body.html('');
          var index = streams.home.length - 1;
          
          while(index >= 0){

            var tweet = streams.home[index]; // gives the last tweet of all your users
            var $tweet = $('<div></div>');
            $tweet;
            $(tweet);

            $($body).append('<a href = # >' + '@' + tweet.user + '</a>' );
            $('a').addClass("tweetsContainer");
            $('a').attr({'user': tweet.user});

            $tweet;
            $tweet.text(tweet.message +  ".... tweeted on " + tweet.created_at); // added timestamp to message

            $tweet.appendTo($body);
            $($body).append('<hr>');
           index -= 1;     
           }


           $('a').click( 'user', function(event){
                event.preventDefault();
                var selectedUser = tweet['user'];
                var selectedUserTweets = streams.users[selectedUser];
               
                length = selectedUserTweets.length;
                var $body = $('main');
                $body.html('');
                var $tweet = $('<div></div>');

                $($body).append('@' + selectedUser + "\'s Tweets");
                
                 for(var i = length-1; i >= 0; i--){
                  $tweet;
                  $tweet.text(selectedUserTweets[i].message +  ".... tweeted on " +selectedUserTweets[i].created_at);
                  $tweet.appendTo($body);
                 }

            });




          });
        

      });

    </script>
 
  <!-- To Do -->
  <!-- Show the user new tweets somehow. (You can show them automatically as they're created, or create a button that displays new tweets.)  ** since tweets in an array, index[length - 1] will give last tweet -->
  <!-- Display the timestamps of when the tweets were created. 
       -->
      

  <!-- Design your interface so that you want to look at and use the product you're making. **do last -->
  <!-- Allow the user to click on a username to see that user's timeline. **on click func or simple href -->

  </body>
</html>
